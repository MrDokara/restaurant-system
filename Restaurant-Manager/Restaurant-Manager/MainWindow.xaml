<Window x:Class="Restaurant_Manager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Restaurant_Manager"
        xmlns:collections="clr-namespace:System.Collections;assembly=mscorlib"
        xmlns:databaseConnectionLib="clr-namespace:DatabaseConnectionLib;assembly=DatabaseConnectionLib"
        mc:Ignorable="d"
        Title="Терминал менеджера" Height="450" Width="800" MinWidth="800" MinHeight="450" Icon="Resources/swipe-card.png">

    <Window.Resources>
        <BitmapImage UriSource="pack://application:,,/Resources/options.png" x:Key="optionsImage"/>
        <BitmapImage UriSource="pack://application:,,/Resources/trash.png" x:Key="trashImage"/>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" VerticalAlignment="Top">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.5*"/>
                <ColumnDefinition Width="0.5*"/>
                <ColumnDefinition Width="50"/>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="35"/>
                <RowDefinition Height="35"/>
            </Grid.RowDefinitions>

            <Button Content="Панель заказов" Grid.Column="0" HorizontalAlignment="Stretch" FontSize="20" Click="OpenOrdersMenu"/>
            <Button Content="Панель персонала" Grid.Column="1" HorizontalAlignment="Stretch" FontSize="20" Click="OpenPersonalMenu"/>
            <Button Grid.Column="2" Grid.RowSpan="2">
                <StackPanel Orientation="Horizontal" Width="50">
                    <Path x:Name="path34" Fill="#000000" Stretch="Fill" Width="45" Height="45">
                        <Path.Data>
                            <PathGeometry Figures="m86.6 10.3v-0.1c-1.5-2-3.3-3.7-5.4-5.3v0.1c-1.7 1.3-3.4 2.7-5 4.1-0.7-0.4-1.3-0.7-1.9-1-0.8-0.4-1.6-0.8-2.5-1-0.3-0.1-0.6-0.2-0.9-0.2-0.2-2.2-0.4-4.4-0.7-6.6-1-0.2-2-0.2-3.1-0.3h-1.6c-1 0.1-1.9 0.1-2.8 0.3-0.3 2.1-0.5 4.3-0.6 6.5-0.4 0-0.7 0.1-1.1 0.2-0.1 0-0.2 0-0.3 0.1-0.8 0.2-1.6 0.6-2.4 1-0.7 0.3-1.3 0.6-1.9 1-1.7-1.4-3.3-2.7-5-4.1l-0.1-0.1c-0.4 0.3-0.8 0.6-1.1 0.9-0.7 0.5-1.3 1.1-1.8 1.7-0.9 0.8-1.6 1.8-2.4 2.8h0.1c1.3 1.7 2.7 3.3 4.1 5-0.4 0.6-0.8 1.3-1.1 1.9-0.4 0.8-0.7 1.7-0.9 2.5-0.2 0.4-0.3 0.8-0.3 1.1-2.2 0.2-4.4 0.4-6.5 0.7-0.2 1-0.3 2-0.3 3.1 0 1.5 0.1 3 0.4 4.4 2.1 0.2 4.2 0.4 6.4 0.6 0 0.4 0.1 0.8 0.3 1.1 0.2 0.9 0.5 1.7 0.9 2.6 0.4 0.7 0.7 1.4 1.2 2-1.4 1.7-2.8 3.3-4.1 5 1.5 2.1 3.3 3.9 5.4 5.4v-0.1c1.6-1.3 3.3-2.7 4.9-4.1h0.1c0.5 0.3 1.1 0.6 1.6 0.9 0.9 0.4 1.9 0.8 2.8 1 0.4 0.1 0.7 0.2 1 0.3 0.2 2.1 0.4 4.3 0.7 6.5 0.9 0.1 1.8 0.2 2.8 0.2h1.5c1.1 0 2.2-0.1 3.3-0.3 0.2-2.1 0.4-4.3 0.6-6.5 0.3-0.1 0.6-0.2 0.9-0.3 0.9-0.2 1.7-0.5 2.5-0.9 0.7-0.3 1.4-0.7 2.1-1.2 0 0.1 0 0.1 0.1 0.1 1.6 1.4 3.3 2.8 5 4.1 0.3-0.2 0.6-0.4 1-0.7 0.6-0.5 1.2-1.1 1.7-1.7 0.9-0.9 1.8-1.9 2.6-3-1.4-1.7-2.8-3.4-4.2-5v-0.1c0.3-0.5 0.6-1.1 0.9-1.7 0.3-0.8 0.7-1.6 0.9-2.4 0-0.1 0-0.2 0.1-0.2 0-0.4 0.1-0.7 0.2-0.9 2.2-0.2 4.4-0.4 6.5-0.6 0.2-1 0.2-2 0.3-3v-1.7c-0.1-1-0.1-2-0.3-3-2.1-0.2-4.3-0.4-6.5-0.6-0.1-0.3-0.2-0.6-0.2-0.9-0.3-0.9-0.6-1.8-1-2.7-0.3-0.6-0.7-1.3-1-1.9 1.3-1.6 2.7-3.3 4.1-5zm-26.7 8.3c1.8-1.9 4-2.8 6.5-2.7 2.6-0.1 4.7 0.8 6.6 2.7 1.8 1.8 2.7 4 2.7 6.5 0 2.6-0.9 4.7-2.7 6.6-1.9 1.8-4 2.7-6.6 2.7-2.5 0-4.7-0.9-6.5-2.7-1.8-1.9-2.7-4-2.7-6.6 0-2.5 0.9-4.7 2.7-6.5z" FillRule="NonZero"/>
                        </Path.Data>
                    </Path>
                </StackPanel>
            </Button>
            <Label x:Name="labelNameTable" Content="" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Row="1" Grid.ColumnSpan="2"/>
        </Grid>

        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="50"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="1">
                <Button x:Name="btnDeleteAll" ToolTip="Удалить всё" Click="btnDeleteAll_Click" Height="60" Visibility="Hidden">
                    <Canvas>
                        <Path Fill="#FF000000" StrokeThickness="18.89763832" StrokeMiterLimit="4" StrokeLineJoin="Miter" StrokeStartLineCap="Flat" StrokeEndLineCap="Flat" Opacity="1" Stretch="Fill" Width="101.516" Canvas.Left="14.909" Canvas.Top="-9.667" Height="115.175">
                            <Path.Data>
                                <PathGeometry Figures="M -498.38086 305.76562 C -513.22892 305.76562 -526.56058 317.9086 -525.41992 333.51367 L -499.42188 689.21094 C -498.50776 701.7163 -488.39996 712.96484 -475.00195 712.96484 L -207.00391 712.96484 C -193.60592 712.96484 -183.49028 701.71634 -182.57617 689.21094 L -156.57812 333.51367 C -155.43749 317.90859 -168.76915 305.76564 -183.61719 305.76562 L -498.38086 305.76562 z M -439.20117 349.10352 A 13.229669 13.229669 0 0 1 -425.77344 362.51758 L -425.77344 647.51758 A 13.229669 13.229669 0 1 1 -452.22852 647.51758 L -452.22852 362.51758 A 13.229669 13.229669 0 0 1 -439.20117 349.10352 z M -341.19922 350.10156 A 13.229669 13.229669 0 0 1 -327.77148 363.52148 L -327.77148 648.52148 A 13.229669 13.229669 0 1 1 -354.22656 648.52148 L -354.22656 363.52148 A 13.229669 13.229669 0 0 1 -341.19922 350.10156 z M -243.19727 352.10156 A 13.229669 13.229669 0 0 1 -229.76953 365.52148 L -229.76953 650.52148 A 13.229669 13.229669 0 1 1 -256.22461 650.52148 L -256.22461 365.52148 A 13.229669 13.229669 0 0 1 -243.19727 352.10156 z " FillRule="NonZero"/>
                            </Path.Data>
                            <Path.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform ScaleY="0.265" ScaleX="-0.265"/>
                                </TransformGroup>
                            </Path.RenderTransform>
                        </Path>
                        <Path Fill="#FF000000" StrokeThickness="4.84571552" StrokeMiterLimit="4" StrokeLineJoin="Miter" StrokeStartLineCap="Flat" StrokeEndLineCap="Flat" Opacity="1" Canvas.Left="-15" RenderTransformOrigin="0.5,0.5" Stretch="Fill" Width="33.446" Canvas.Top="-23.333" Height="12.333">
                            <Path.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform ScaleX="-1"/>
                                    <SkewTransform/>
                                    <RotateTransform/>
                                    <TranslateTransform/>
                                </TransformGroup>
                            </Path.RenderTransform>
                            <Path.Data>
                                <PathGeometry Figures="m -110.09561 55.424006 c -3.85736 0 -7.03781 3.179932 -7.03781 7.037297 v 3.988388 h -17.19275 c -3.14709 0 -5.75623 2.609146 -5.75623 5.756237 v 0.768427 c 0 3.147092 2.60914 5.756238 5.75623 5.756238 h 88.207023 c 3.147081 0 5.756238 -2.609151 5.756238 -5.756238 v -0.768427 c 0 -3.147083 -2.609157 -5.756237 -5.756238 -5.756237 h -17.192749 v -3.988388 c 0 -3.857365 -3.180448 -7.037297 -7.037814 -7.037297 z m 0 4.845701 h 39.7459 c 1.256657 0 2.192113 0.934939 2.192113 2.191596 v 3.988388 h -44.130123 v -3.988388 c 0 -1.256657 0.93547 -2.191596 2.19211 -2.191596 z" FillRule="NonZero"/>
                            </Path.Data>
                        </Path>
                    </Canvas>
                </Button>
                <Button  x:Name="btnAddNewPersonal" ToolTip="Добавить нового официанта" Click="PersonalAdd_OnClick" Height="60" Visibility="Hidden">
                    <Path Fill="#000000" Stretch="Fill" Width="31" Height="37.25" >
                        <Path.Data>
                            <PathGeometry Figures="M92.78 44.71c5.38 0 10.26 2.18 13.79 5.71 3.53 3.53 5.71 8.4 5.71 13.78 0 5.38 -2.18 10.26 -5.71 13.79 -3.53 3.53 -8.4 5.71 -13.79 5.71 -5.38 0 -10.26 -2.18 -13.79 -5.71 -3.53 -3.53 -5.71 -8.4 -5.71 -13.79 0 -5.38 2.18 -10.26 5.71 -13.78 3.53 -3.53 8.4 -5.71 13.79 -5.71zm-50.23 35.15c-0.84 0 -1.52 -0.68 -1.52 -1.52 0 -0.84 0.68 -1.52 1.52 -1.52l11.03 0 0 -11.03c0 -0.84 0.68 -1.52 1.52 -1.52 0.84 0 1.52 0.68 1.52 1.52l0 11.03 11.03 0c0.84 0 1.52 0.68 1.52 1.52 0 0.84 -0.68 1.52 -1.52 1.52l-11.03 0 0 11.03c0 0.84 -0.68 1.52 -1.52 1.52 -0.84 0 -1.52 -0.68 -1.52 -1.52l0 -11.03 -11.03 0zm65.48 8.49c-0.7 -0.47 -0.88 -1.41 -0.42 -2.1 0.47 -0.7 1.41 -0.88 2.1 -0.42 4.17 2.8 7.62 6.6 10.01 11.04 2.3 4.29 3.61 9.18 3.61 14.35l0 6.91c0 0.84 -0.68 1.52 -1.52 1.52l-58.07 0c-0.84 0 -1.52 -0.68 -1.52 -1.52l0 -6.91c0 -5.2 1.32 -10.11 3.64 -14.42 2.41 -4.46 5.89 -8.27 10.1 -11.06 0.7 -0.46 1.64 -0.27 2.1 0.43 0.46 0.7 0.27 1.64 -0.43 2.1 -3.79 2.52 -6.93 5.94 -9.1 9.97 -2.09 3.87 -3.27 8.29 -3.27 12.98l0 5.39 55.03 0 0 -5.39c0 -4.67 -1.17 -9.07 -3.24 -12.92 -2.14 -4.01 -5.26 -7.43 -9.02 -9.95zm-3.62 -35.77c-2.98 -2.97 -7.09 -4.82 -11.63 -4.82 -4.54 0 -8.66 1.85 -11.63 4.82 -2.98 2.97 -4.82 7.09 -4.82 11.63 0 4.54 1.84 8.66 4.82 11.63 2.98 2.98 7.09 4.82 11.63 4.82 4.54 0 8.66 -1.84 11.63 -4.82 2.98 -2.98 4.82 -7.09 4.82 -11.63 0 -4.54 -1.84 -8.66 -4.82 -11.63z" FillRule="EvenOdd"/>
                        </Path.Data>
                    </Path>
                </Button>
            </StackPanel>

            <DataGrid x:Name="DataGridOrders" Visibility="Hidden" AutoGenerateColumns="False" FontSize="20" Grid.Column="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  ItemsSource="{DynamicResource ResourceKey=orders}" 
                      CurrentCellChanged="OrdersChanged">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" IsReadOnly="True" Binding="{Binding Path=Id}" Width="*" />
                    <DataGridTextColumn Header="Список блюд" Binding="{Binding Path=ListDishes}" Width="*" />
                    <DataGridTextColumn Header="Телефон" Binding="{Binding Path=Phone}" Width="*" />
                    <DataGridTextColumn Header="Статус" Binding="{Binding Path=Status}" Width="*" />
                    <DataGridTextColumn Header="Комментарий" Binding="{Binding Path=DeliveryOption}" Width="*" />
                </DataGrid.Columns>
                <DataGrid.ContextMenu>
                    <ContextMenu>
                        <MenuItem Command="Copy"/>
                        <MenuItem Command="Delete"/>
                    </ContextMenu>
                </DataGrid.ContextMenu>
            </DataGrid>

            <ListBox x:Name="listBoxPersonal" Visibility="Hidden" FontSize="20" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                <ListBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Добавить" Click="PersonalAdd_OnClick"/>
                    </ContextMenu>
                </ListBox.ContextMenu>

                <ListBox.Resources>
                    <ContextMenu x:Key="listBoxContextMenu">
                        <MenuItem Header="Изменить" Click="PersonalEdit_OnClick"/>
                        <MenuItem Header="Удалить" Click="PersonalDelete_OnClick"/>
                    </ContextMenu>
                </ListBox.Resources>
                <ListBox.ItemContainerStyle>
                    <Style TargetType="ListBoxItem">
                        <Setter Property="ContextMenu" Value="{StaticResource listBoxContextMenu}"/>
                    </Style>
                </ListBox.ItemContainerStyle>
            </ListBox>
        </Grid>
    </Grid>
</Window> 
